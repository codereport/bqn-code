u    â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
h    â‡ â€¢Import "/home/cph/bqn-code/lib/helper.bqn"
fn   â‡ â€¢Import "/home/cph/bqn-code/lib/fun.bqn"
term â‡ â€¢Import "/home/cph/bqn-code/lib/terminal.bqn"

testInput â† "/home/cph/bqn-code/aoc/2024/data/10-test.txt"
input     â† "/home/cph/bqn-code/aoc/2024/data/10.txt"

# Parsing
Parse â† -âŸœ'0'Â·>â€¢file.Lines

# Solutions
Peaks â† { psğ•Šg:
    p â† âŠ‘âŒ½ps â‹„ n â† pâŠ‘g â‹„ { 9=n ?
    # â€¢Delay 0.25 â‹„ term.Clear@
    # â€¢OutË˜ "ğŸ„ğŸ”´ğŸŸ ğŸŸ¡ğŸŸ¢ğŸ”µğŸŸ£âšªâš«ğŸ"âŠËœ(â†•â‰ ps)âŠ¸+âŒ¾(psâŠ¸âŠ‘) 0â¥ŠËœâ‰¢g
    p ; next â† ((n+1)=âŠ‘âŸœg)Â¨âŠ¸/gâŠ¸h.IbÂ¨âŠ¸/pâŠ¸+Â¨h.del4
    { Ã—â‰ next ? âˆ¾PeaksâŸœgÂ¨psâŠ¸âˆ¾Â¨â‹ˆÂ¨next ; âŸ¨âŸ© }}
}

Solve â† { âˆ˜â€¿2âŠ¸â¥ŠÂ¨PeaksâŸœğ•©Â¨â‹ˆÂ¨fn.I 0=ğ•© }
A     â† +Â´Â·â‰ âˆ˜â·Â¨Solve
B     â† +Â´Â·â‰   Â¨Solve

# Tests
u.UnitTest (A Parse testInput) â‰¡ 36
# u.UnitTest (A Parse input)   â‰¡ 512
u.UnitTest (B Parse testInput) â‰¡ 81
# u.UnitTest (B Parse input)   â‰¡ 1045
