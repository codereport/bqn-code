del4 â‡ âŸ¨0â€¿1,0â€¿Â¯1,1â€¿0,Â¯1â€¿0âŸ© # deltas 4 directions
del8 â‡ 1â†“â¥Šâ‹ˆâŒœËœ0â€¿Â¯1â€¿1        # deltas in 8 directions

Ib â‡ âˆ§Â´0âŠ¸â‰¤âˆ¾â‰¢âŠ¸>

Flood â† { ğ•Šgridâ€¿next:
    { 0=â‰ next     ? grid ; posâ€¿n â† âŠ‘next
    { 0â‰ posâŠ‘grid ? gridâ€¿(1â†“next) ;
    grid â†© (nâŠ¸+)âŒ¾(posâŠ¸âŠ‘)grid
    adj â† â‹ˆâŸœ(n+1)Â¨(0=gridâŠ‘ËœâŠ¢)âŠ¸/gridâŠ¸IbÂ¨âŠ¸/posâŠ¸+Â¨del4
    gridâ€¿(adjâˆ¾Ëœ1â†“next) }}
}

FloodFill â‡ { startğ•Šgrid: âŠ‘Floodâ€¢_while_(Ã—âˆ˜â‰ âŠ¢Â´)gridâ€¿âŸ¨startâ€¿1âŸ© }

BuildPath â† { ğ•Šgridâ€¿path:
    pos â† Â¯1âŠ‘path
    ng  â† (1âŠ¸+)âŒ¾(posâŠ¸âŠ‘)grid # new grid
    adj â† (0=gridâŠ‘ËœâŠ¢)âŠ¸/gridâŠ¸IbÂ¨âŠ¸/posâŠ¸+Â¨del4
    (â‹ˆng)âŠ¸âˆ¾Â¨â‹ˆÂ¨(pathâˆ¾â‹ˆ)Â¨adj
}

AllPaths â‡ { startâ€¿endğ•Šgrid:
    paths â† âŸ¨âŸ©
    { ğ•Špp: gâ€¿p â† âŠ‘ğ•© â‹„ { endâ‰¡Â¯1âŠ‘p ?
        paths â†© pathsâˆ¾â‹ˆp â‹„ 1â†“pp ;
        (1â†“pp)âˆ¾BuildPath gâ€¿p }
    }â€¢_while_ (Ã—â‰ ) âŸ¨gridâ€¿(â‹ˆstart)âŸ©
    paths
}
