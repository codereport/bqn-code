u â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
s â‡ â€¢Import "/home/cph/bqn-code/lib/string.bqn"

testInput â† "/home/cph/bqn-code/aoc/2024/data/09-test.txt"
input     â† "/home/cph/bqn-code/aoc/2024/data/09.txt"

# Parsing
Parse â† Â¯1â†“â€¢file.Chars

# Solutions

Rdfb â† { # replace dot from back
    c â† âŠ‘Â¯1â†‘ğ•©
    i â† âŠ‘/'.'=ğ•©
    s.Trim2 Â¯1â†“(c)âŒ¾(iâŠ¸âŠ‘)ğ•©
}

A â† {
    mâ€¿n â† (âŒˆÃ·âŸœ2)âŠ¸â‹ˆâ‰ ğ•©
    t â† (â€¢ParseFloatâˆ˜â¥ŠÂ¨ğ•©)/nâ†‘â¥Šâ‰(mâ¥Š'.')â‰Ëœâ†•m
    +Â´â†•âˆ˜â‰ âŠ¸Ã— Rdfbâ€¢_while_(âˆ¨Â´'.'=âŠ¢) t
}
B â† âŠ¢

# Tests
u.UnitTest (A "12345") â‰¡ 60
u.UnitTest (A Parse testInput) â‰¡ 1928
# u.UnitTest (A Parse input)     â‰¡ 6330095022244
# u.UnitTest (B Parse testInput) â‰¡ 1
# u.UnitTest (B Parse input)     â‰¡ 1
