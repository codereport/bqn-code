u  â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
s  â‡ â€¢Import "/home/cph/bqn-code/lib/string.bqn"
h  â‡ â€¢Import "/home/cph/bqn-code/lib/helper.bqn"
fn â‡ â€¢Import "/home/cph/bqn-code/lib/fun.bqn"

miniInput â† â€¢pathâˆ¾"/data/15-mini.txt"
testInput â† â€¢pathâˆ¾"/data/15-test.txt"
input     â† â€¢pathâˆ¾"/data/15.txt"

# Parsing
Parse â† { (>âˆ˜s.LinesâŠ¸â‹ˆâŸœ(âˆ¾Â·s.Lines Â¯1âŠ¸â†“))Â´s.Lines2 â€¢file.Chars ğ•© }

# Solutions
rs   â† âŸ¨âŠ¢,âŒ½âˆ˜â‰,âŒ½âˆ˜â‰âŸ2,âŒ½âˆ˜â‰âŸ3âŸ©
Push â† { m â† (Â¬âˆ¨`âŒ¾âŒ½'#'=ğ•©)âˆ§1â‰¥(+`âŒ¾âŒ½)âŸ2'.'=ğ•© â‹„ âˆ¨âŒ¾(mâŠ¸/)ğ•© }
Move â† { r â† âŠ‘rsâŠËœ"<^>v"âŠğ•¨ â‹„ xâ€¿y â† âŠ‘fn.I'@'=Rğ•© â‹„ PushâŒ¾((1+y)â†‘Â·âŠxâ†“R)ğ•© }
Gps  â† +Â´Â·100â€¿1âŠ¸Ã—Â¨Â·fn.I'O'=âŠ¢
A    â† +Â´Â·GpsâŠ‘MoveÂ´(âŒ½âŠ¢Â´)
B    â† âŠ¢

# Tests
u.UnitTest (A Parse miniInput) â‰¡ 2028
u.UnitTest (A Parse testInput) â‰¡ 10092
# u.UnitTest (A Parse input)     â‰¡ 1412971
# u.UnitTest (B Parse testInput) â‰¡ 1
# u.UnitTest (B Parse input)     â‰¡ 1
