u  â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
s  â‡ â€¢Import "/home/cph/bqn-code/lib/string.bqn"

testInput â† â€¢pathâˆ¾"/data/13-test.txt"
input     â† â€¢pathâˆ¾"/data/13.txt"

# Parsing
Parse â† { { âˆ¾âˆ¾s.NatsÂ¨Â¨Â¯2âŠ¸â†‘Â¨s.WordsÂ¨ğ•© }Â¨s.LinesÂ¨s.Lines2â€¢file.Charsğ•© }

# Solutions
Tokens â† { aâ€¿bâ€¿c â† <Ë˜âˆ˜â€¿2â¥Šğ•©
    Det â† -Â´âˆ˜Ã—âŸœâŒ½
    r   â† âŸ¨c Det b, a Det câŸ© Ã· a Det b
    (+Â´3â€¿1âŠ¸Ã—Ã—(âˆ§Â´âŒŠâŠ¸=))r
}

A â† +Â´TokensÂ¨
B â† +Â´Â·TokensÂ¨(1e13âŠ¸+)âŒ¾(4â€¿5âŠ¸âŠ)Â¨

# Tests
u.UnitTest (A Parse testInput) â‰¡ 480
# u.UnitTest (A Parse input)   â‰¡ 28753
u.UnitTest (B Parse testInput) â‰¡ 875318608908
# u.UnitTest (B Parse input)   â‰¡ 102718967795500
