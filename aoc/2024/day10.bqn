u  â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
h  â‡ â€¢Import "/home/cph/bqn-code/lib/helper.bqn"
fn â‡ â€¢Import "/home/cph/bqn-code/lib/fun.bqn"

testInput â† "/home/cph/bqn-code/aoc/2024/data/10-test.txt"
input     â† "/home/cph/bqn-code/aoc/2024/data/10.txt"

# Parsing
Parse â† â€¢ParseFloatâˆ˜â¥ŠÂ¨Â·>â€¢file.Lines

# Solutions
Peaks â† { pğ•Šg: n â† pâŠ‘g â‹„ { 9=n ? p ;
    nxt â† ((n+1)=âŠ‘âŸœg)Â¨âŠ¸/gâŠ¸h.IbÂ¨âŠ¸/pâŠ¸+Â¨h.del4
    { Ã—â‰ nxt ? âˆ¾PeaksâŸœgÂ¨nxt ; âŸ¨âŸ© }}
}

Solve â† { âˆ˜â€¿2âŠ¸â¥ŠÂ¨PeaksâŸœğ•©Â¨fn.I 0= ğ•© }
A     â† +Â´Â·â‰ âˆ˜â·Â¨Solve
B     â† +Â´Â·â‰   Â¨Solve

# Tests
u.UnitTest (A Parse testInput) â‰¡ 36
# u.UnitTest (A Parse input)   â‰¡ 512
u.UnitTest (B Parse testInput) â‰¡ 81
# u.UnitTest (B Parse input)   â‰¡ 1045
