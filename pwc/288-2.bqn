# Link: https://theweeklychallenge.org/blog/perl-weekly-challenge-288

deltas  ‚Üê ‚åΩ¬®‚ä∏‚àæ0‚ãà¬®1‚Äø¬Ø1

MaxContiguousBlocks ‚Üê { ùïäorig:
    empty ‚Üê 0‚•äÀú‚â¢orig
    IsValid ‚Üê ‚àß¬¥‚â•‚üú0‚Äø0‚àæ(‚â¢orig)>‚ä¢
    FloodFill ‚Üê { ùïäsym‚Äøtodo‚Äømat:
        { 0=‚â†todo ? +¬¥‚•ämat ;
        pos ‚Üê ‚äëtodo
        new ‚Üê IsValid¬®‚ä∏/pos‚ä∏+¬®deltas
        FloodFill { (sym=pos‚äëorig)‚àß¬¨pos‚äëmat
            ? sym‚Äø(new‚àæÀú1‚Üìtodo)‚Äø(1‚ä∏+‚åæ(pos‚ä∏‚äë)mat)
            ; sym‚Äø(1‚Üìtodo)‚Äømat }}
    }
    ‚åà¬¥FloodFill¬®{(ùï©‚äëorig)‚Äø‚ü®ùï©‚ü©‚Äøempty}¬®‚•ä‚Üï‚â¢orig
}

# Tests
‚Ä¢Show MaxContiguousBlocks >‚ü®"xxxxo",
                            "xoooo",
                            "xoooo",
                            "xxxoo"‚ü© # 11

‚Ä¢Show MaxContiguousBlocks >‚ü®"xxxxx",
                            "xoooo",
                            "xxxxo",
                            "xoooo"‚ü© # 11
‚Ä¢Show MaxContiguousBlocks >‚ü®"xxxoo",
                            "oooxx",
                            "oxxoo",
                            "oooxx"‚ü© # 7
