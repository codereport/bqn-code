u  â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
fn â‡ â€¢Import "/home/cph/bqn-code/lib/fun.bqn"

in â† "/home/cph/bqn-code/aoc/2024/data/08-test.txt"
# in â† "/home/cph/bqn-code/aoc/2024/data/08.txt"

# Parsing
g â† >â€¢file.Lines in # grid

# Solutions
c   â† (âŠâŠ‘âŸœg)âŠ¸âŠ”fn.Idxs'.'â‰ g          # coordinates
Ib  â† âˆ§Â´(0â€¿0âŠ¸â‰¤)âˆ¾(â‰¢g)âŠ¸>              # in bounds
Dx  â† { aâ€¿bğ•Šd:(aâŠ¸+â‹ˆbâŠ¸-)Â¨d }         # delta
_An â† { IbÂ¨âŠ¸/âˆ¾âˆ¾DxâŸœ(ğ”½-Â´)Â¨fn.Pairsğ•© } # antinode

_Solve â† { â‰ â·âˆ¾ğ”½Â¨ğ•© }
A      â† ({âŸ¨ğ•©âŸ©}        _An) _Solve
B      â† ({ğ•©âŠ¸Ã—Â¨â†•âŒˆÂ´â‰¢g} _An ) _Solve

# Tests
u.UnitTest (A c) â‰¡ 14
u.UnitTest (B c) â‰¡ 34
# u.UnitTest (A Parse in) â‰¡ 293
# u.UnitTest (B Parse in) â‰¡ 934
