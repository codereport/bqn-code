u â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
s â‡ â€¢Import "/home/cph/bqn-code/lib/string.bqn"

testInput  â† â€¢pathâˆ¾"/data/03-test.txt"
testInputB â† â€¢pathâˆ¾"/data/03-testb.txt"
input      â† â€¢pathâˆ¾"/data/03.txt"

# Parsing
Parse â† â€¢file.Chars

# Solutions
Split â† âˆ¾Â·")"âŠ¸s.SplitÂ¨"mul("s.SplitâŠ¢
Prod  â† ((2=â‰ )âˆ§(âˆ§Â´s.IsNatÂ¨))â—¶âŸ¨0,Ã—Â´â€¢BQNÂ¨âŸ©','âŠ¸s.Split
A     â† +Â´Â·ProdÂ¨Split
B â† {
    s    â† Splitğ•©
    on   â† ("do("â‰¡Â¯3â†‘âŠ¢)Â¨s
    off  â† ("don't("â‰¡Â¯6â†‘âŠ¢)Â¨s
    mask â† 1â†“(0âŒˆ1âŒŠ+)`1âˆ¾on-off
    +Â´maskÃ—ProdÂ¨s
}

# Tests
u.UnitTest (A Parse testInput)  â‰¡ 161
# u.UnitTest (A Parse input)    â‰¡ 166905464
u.UnitTest (B Parse testInputB) â‰¡ 48
# u.UnitTest (B Parse input)    â‰¡ 72948684
