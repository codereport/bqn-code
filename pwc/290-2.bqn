# Link: https://theweeklychallenge.org/blog/perl-weekly-challenge-290

âŸ¨UnitTestâŸ© â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
âŸ¨DigitsâŸ© â‡ â€¢Import "/home/cph/bqn-code/lib/binary.bqn"

Luhn â† {
    d â† â€¢BQNâˆ˜â¥ŠÂ¨ğ•© # digits
    p â† âŠ¢Â´d      # payload
    M â† âŒ½2â€¿1â¥ŠËœâ‰   # mask
    p=10|-+Â´âˆ¾DigitsÂ¨MâŠ¸Ã—Â¯1â†“d
}

# Tests
UnitTest (Luhn "17893729974"     ) â‰¡ 1
UnitTest (Luhn "4137894711755904") â‰¡ 1
UnitTest (Luhn "4137897411755904") â‰¡ 0
