u  â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
s  â‡ â€¢Import "/home/cph/bqn-code/lib/string.bqn"
fn â‡ â€¢Import "/home/cph/bqn-code/lib/fun.bqn"

testInput â† â€¢pathâˆ¾"/data/07-test.txt"
input     â† â€¢pathâˆ¾"/data/07.txt"

# Parsing
Parse â† s.NatsÂ¨â€¢file.Lines

# Solutions
Value â† {
    hâ€¿t â† âŸ¨âŠ‘ğ•©,âŒ½1â†“âŠ¢ğ•©âŸ©
    ops â† " "âŠ¸(âˆ¾Ëœ)Â¨"+Ã—"fn.ChooseËœ2-Ëœâ‰ ğ•©
    hÃ—âˆ¨Â´h=â€¢BQNÂ¨(â€¢ReprÂ¨t)âŠ¸{âˆ¾â¥Šâ‰ğ•¨â‰ğ•©}Â¨ops
}

Value2 â† { opsğ•Šğ•©:
    hâ€¿t â† âŸ¨âŠ‘ğ•©,âŒ½1â†“âŠ¢ğ•©âŸ©
    hÃ—âˆ¨Â´h=(â·Â·âˆ¾{ağ•Šb:{bğ•a}Â¨ops}Â¨)Â´t
}

A â† +Â´+â€¿Ã—âŠ¸Value2Â¨
C â† â€¢ParseFloatâˆ¾â—‹â€¢Repr # do not use â€¢BQN / â€¢Fmt
B â† +Â´+â€¿Ã—â€¿CâŠ¸Value2Â¨

# Tests
u.UnitTest (A Parse testInput) â‰¡ 3749
# u.UnitTest (A Parse input)   â‰¡ 7885693428401
u.UnitTest (B Parse testInput) â‰¡ 11387
# u.UnitTest (B Parse input)   â‰¡ 348360680516005
