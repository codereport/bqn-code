u  â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
h  â‡ â€¢Import "/home/cph/bqn-code/lib/helper.bqn"
fn â‡ â€¢Import "/home/cph/bqn-code/lib/fun.bqn"

in â† "/home/cph/bqn-code/aoc/2024/data/08-test.txt"
# in â† "/home/cph/bqn-code/aoc/2024/data/08.txt"

# Parsing
g â† >â€¢file.Lines in # grid

# Solutions
c   â† (âŠâŠ‘âŸœg)âŠ¸âŠ”fn.I'.'â‰ g                      # coordinates
_An â† { gâŠ¸h.IbÂ¨âŠ¸/âˆ¾âˆ¾+âš‡1âŸœ(â‹ˆâŸœ-Â·ğ”½-Â´)Â¨fn.Pairsğ•© } # antinode

_Solve â† { â‰ â·âˆ¾ğ”½Â¨ğ•© }
A      â† ({âŸ¨ğ•©âŸ©}       _An) _Solve
B      â† ({ğ•©âŠ¸Ã—Â¨â†•âŒˆÂ´â‰¢g} _An) _Solve

# Tests
u.UnitTest (A c) â‰¡ 14
u.UnitTest (B c) â‰¡ 34
# u.UnitTest (A Parse in) â‰¡ 293
# u.UnitTest (B Parse in) â‰¡ 934
