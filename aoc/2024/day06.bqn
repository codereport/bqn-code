u  â‡ â€¢Import "/home/cph/bqn-test/test.bqn"
s  â‡ â€¢Import "/home/cph/bqn-code/lib/string.bqn"

testInput â† "/home/cph/bqn-code/aoc/2024/data/06-test.txt"
input     â† "/home/cph/bqn-code/aoc/2024/data/06.txt"

# Parsing
Parse â† >â€¢file.Lines

# Solutions

dx  â† âŸ¨Â¯1â€¿0,0â€¿1,1â€¿0,0â€¿Â¯1âŸ© # deltas
Oob â† âˆ¨Â´(0â€¿0>âŠ¢)âˆ¾â‰¢âŠ¸â‰¤       # out of bounds

Positions â† { ğ•Šgâ€¿sfâ€¿posâ€¿dir:
    np â† pos
    sf { ğ•Š: np â†© pos+dirâŠ‘dx
        sf Oob np ? âˆ ; '#'â‰¡npâŠ‘g ? dir â†© 4|1+dir ;
        sf â†© sf+(1âŠ¸+)âŒ¾(npâŠ¸âŠ‘)0â¥ŠËœâ‰¢g â‹„ pos â†© np
    }â€¢_while_ (Â¬Oob) np
    +Â´â¥Š1âŒŠsf
}

A â† { Positions (<ğ•©)âˆ¾(â‹ˆâŸœ(âŠ‘/â—‹â¥ŠâŸœ(â†•â‰¢))"^"â·ğ•©)âˆ¾0 }
B â† âŠ¢ # TODO

# Tests
u.UnitTest (A Parse testInput) â‰¡ 41
u.UnitTest (A Parse input)     â‰¡ 5177
# u.UnitTest (B Parse testInput) â‰¡ 1
# u.UnitTest (B Parse input)     â‰¡ 1
